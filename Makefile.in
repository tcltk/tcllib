# Makefile.in --
#
#	This file is a Makefile for the tcllib standard tcl library. If this
#	is "Makefile.in" then it is a template for a Makefile;  to generate 
#	the actual Makefile, run "./configure", which is a configuration script
#	generated by the "autoconf" program (constructs like "@foo@" will get
#	replaced in the actual Makefile.
#
# Copyright (c) 1999-2000 Ajuba Solutions
#
# See the file "license.terms" for information on usage and redistribution
# of this file, and for a DISCLAIMER OF ALL WARRANTIES.
#
# RCS: @(#) $Id: Makefile.in,v 1.27 2000/05/30 23:59:59 ericm Exp $

# Base64 encoder/decoder
BASE64=base64

# Option processing package (like opt)
CMDLINE=cmdline

# File utilities (grep, find, etc.)
FILEUTIL=fileutil

# Math functions
MATH=math

# Data structures (stack, queue, tree)
STRUCT=struct

# CGI input processing, "ncgi" to avoid conflict with Libes cgi.tcl
NCGI=ncgi

# Simple function level profiler
PROFILER=profiler

# POP3 email client API
POP3=pop3

# HTML generation API
HTML=html

# MIME encoder/decoder and SMTP package
# These are modified/hacked to have a soft requirement for Trf:
# They will encode/decode MIME messages faster if Trf is available.
MIME=mime

MODULES= \
	$(BASE64)	\
	$(CMDLINE)	\
	$(STRUCT)	\
	$(FILEUTIL)	\
	$(MATH)		\
	$(MIME)		\
	$(NCGI)		\
	$(POP3)		\
	$(PROFILER)	\
	$(HTML)

#========================================================================
# Nothing of the variables below this line need to be changed.  Please
# check the TARGETS section below to make sure the make targets are
# correct.
#========================================================================

SHELL = @SHELL@

INSTALL_ROOT =

srcdir = @srcdir@
top_srcdir = @top_srcdir@
prefix = $(INSTALL_ROOT)@prefix@
exec_prefix = $(INSTALL_ROOT)@exec_prefix@

libdir = @libdir@
mandir = @mandir@

DESTDIR =

pkglibdir = $(prefix)/lib/@PACKAGE@@VERSION@

top_builddir = .

INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_SCRIPT = @INSTALL_SCRIPT@
INSTALL_STRIP_FLAG =
transform = @program_transform_name@

NORMAL_INSTALL = :
PRE_INSTALL = :
POST_INSTALL = :
NORMAL_UNINSTALL = :
PRE_UNINSTALL = :
POST_UNINSTALL = :

PACKAGE = @PACKAGE@
VERSION = @VERSION@
CYGPATH = @CYGPATH@
TCLSH_PROG = @TCLSH_PROG@

AUTOCONF = autoconf

ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
CONFIGDIR = @CONFIGDIR@
mkinstalldirs = $(SHELL) $(CONFIGDIR)/mkinstalldirs
CONFIG_CLEAN_FILES =

#========================================================================
# Start of user-definable TARGETS section
#========================================================================

#========================================================================
# TEA TARGETS.  Please note that the "libraries:" target refers to platform
# independent files, and the "binaries:" target inclues executable programs and
# platform-dependent libraries.  Modify these targets so that they install
# the various pieces of your package.  The make and install rules
# for the BINARIES that you specified above have already been done.
#========================================================================

all: libraries doc

#========================================================================
# The binaries target builds executable programs, Windows .dll's, unix
# shared/static libraries, and any other platform-dependent files.
# The list of targets to build for "binaries:" is specified at the top
# of the Makefile, in the "BINARIES" variable.
#========================================================================

binaries:

libraries:

doc:

install: all install-libraries install-doc

install-binaries: 

#========================================================================
# This rule installs platform-independent files, such as header files.
#========================================================================

install-libraries: libraries
	$(mkinstalldirs) $(pkglibdir)
	@echo "Installing modules in $(pkglibdir)"
	@for i in $(MODULES) ; do \
	    if test -d $(srcdir)/modules/$$i; then  \
		echo "Installing $$i in $(pkglibdir)/$$i" ; \
		$(mkinstalldirs) $(pkglibdir)/$$i ; \
		for j in $(srcdir)/modules/$$i/*.tcl ; do \
		    $(INSTALL_DATA) $$j $(pkglibdir)/$$i ; \
		done; \
	    fi; \
	done;
	$(TCLSH_PROG) `$(CYGPATH) $(srcdir)/mkIndex.tcl` `$(CYGPATH) $(pkglibdir)` tcllib $(VERSION) $(MODULES)

#========================================================================
# Install documentation.  Unix manpages should go in the $(mandir)
# directory.
#========================================================================

install-doc: doc
	$(mkinstalldirs) $(mandir)/mann
	@for j in $(MODULES) ; do \
	    echo "Installing documentation for $$j" ; \
	    for i in $(srcdir)/modules/$$j/*.n ; do \
	        $(INSTALL_DATA) $$i $(mandir)/mann ; \
	    done; \
	done
	chmod 444 $(mandir)/mann/*
	$(INSTALL_DATA) $(srcdir)/man.macros $(mandir)

test:
	$(TCLSH_PROG) `$(CYGPATH) $(srcdir)/all.tcl` -modules "$(MODULES)"

depend:

# Make a distribution.  This includes:
#   Code, doc's, and tests for all modules
#   Generated installer for Windows (INSTALL.BAT) and UNIX (install.sh)
# This all gets archived together (tcllib$(VERSION).zip or 
# tcllib$(VERSION).tar.gz).
dist:
	rm -rf $(srcdir)/tcllib$(VERSION) tcllib$(VERSION).tar.gz tcllib$(VERSION).zip
	@mkdir $(srcdir)/tcllib$(VERSION)
	-for j in $(MODULES) ; do \
	    mkdir $(srcdir)/tcllib$(VERSION)/$$j ; \
	    cp $(srcdir)/modules/$$j/*.n $(srcdir)/tcllib$(VERSION)/$$j ; \
	    cp $(srcdir)/modules/$$j/*.txt $(srcdir)/tcllib$(VERSION)/$$j ; \
	    cp $(srcdir)/modules/$$j/*.xml $(srcdir)/tcllib$(VERSION)/$$j ; \
	    cp $(srcdir)/modules/$$j/*.html $(srcdir)/tcllib$(VERSION)/$$j ; \
	    cp $(srcdir)/modules/$$j/*.tcl $(srcdir)/tcllib$(VERSION)/$$j ; \
	    cp $(srcdir)/modules/$$j/*.test $(srcdir)/tcllib$(VERSION)/$$j ; \
	done
	$(TCLSH_PROG) $(srcdir)/mkIndex.tcl $(srcdir)/tcllib$(VERSION) tcllib $(VERSION) $(MODULES)
	$(TCLSH_PROG) $(srcdir)/mkInstallScripts.tcl $(srcdir)/tcllib$(VERSION) tcllib $(VERSION) $(MODULES)
	for j in license.terms README ; do \
	    cp $(srcdir)/$$j $(srcdir)/tcllib$(VERSION)/$$j ; \
	done
	cd $(srcdir)
	tar cf tcllib$(VERSION).tar tcllib$(VERSION)
	gzip tcllib$(VERSION).tar
	zip -r tcllib$(VERSION).zip tcllib$(VERSION)
	rm -rf $(srcdir)/tcllib$(VERSION)

#========================================================================
# End of user-definable section
#========================================================================

#========================================================================
# Don't modify the file to clean here.  Instead, set the "CLEANFILES"
# variable in configure.in
#========================================================================

clean:  

distclean: clean
	-rm -f Makefile $(CONFIG_CLEAN_FILES)
	-rm -f config.cache config.log stamp-h stamp-h[0-9]*
	-rm -f config.status

#========================================================================
# Install binary object libraries.  On Windows this includes both .dll and
# .lib files.  Because the .lib files are not explicitly listed anywhere,
# we need to deduce their existence from the .dll file of the same name.
# Additionally, the .dll files go into the bin directory, but the .lib
# files go into the lib directory.  On Unix platforms, all library files
# go into the lib directory.  In addition, this will generate the pkgIndex.tcl
# file in the install location (assuming it can find a usable tclsh8.2 shell)
#
# You should not have to modify this target.
#========================================================================

install-lib-binaries: installdirs

#========================================================================
# Install binary executables (e.g. .exe files)
#
# You should not have to modify this target.
#========================================================================

install-bin-binaries: installdirs

.SUFFIXES: .c .o .obj

Makefile: $(srcdir)/Makefile.in  $(top_builddir)/config.status
	cd $(top_builddir) \
	  && CONFIG_FILES=$@ CONFIG_HEADERS= $(SHELL) ./config.status

uninstall-binaries:

installdirs:
	$(mkinstalldirs)  $(DESTDIR)$(pkglibdir)

.PHONY: all binaries clean depend distclean doc install installdirs \
libraries test

# Tell versions [3.59,3.63) of GNU make to not export all variables.
# Otherwise a system limit (for SysV at least) may be exceeded.
.NOEXPORT:
